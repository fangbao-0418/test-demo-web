<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>promise</title>
	<script>
		function a(resolve,reject){
			setTimeout(()=>{
				console.log(resolve);
				console.log("a")
			},3000)
		}
		function b(){
			return new Promise((resolve,reject)=>{
				setTimeout(()=>{
					resolve("true");
					//reject("b is not ok");
					
				},5000)
				
			})
		}
		function c(){
			return new Promise((resolve,reject)=>{
				setTimeout(()=>{
					reject("c is not ok");
					//resolve("true")
					console.log("c")
				},4000)
			})
		}
		function d(){
			return new Promise((resolve,reject)=>{
				setTimeout(()=>{
					resolve("true");
					console.log("d")
				},4000)
			})
		}
		function e(){
			return new Promise((resolve,reject)=>{
				setTimeout(()=>{
					console.log("e")
				},4000)
			})
		}
		var p1 = new Promise((resolve,reject)=>{
				resolve("start")
			});	
		
		
		p1.then(()=>{
			return Promise.race([b(),c()]);
		}).then((data)=>{
			console.log(data);
		}).then(d).then(e).catch((err)=>{
			console.log(err);
		})
			
	
	</script>
</head>
<body></body>
</html>